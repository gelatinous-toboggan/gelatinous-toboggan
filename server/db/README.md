# Modules #

####User Modules

`User`

* **Use**: user information
* **Fields**:
  - username: unique identifier

####Quilt Modules

`Quilt`

* **Use**: quilt, generated from all the stitched up videos, information
* **Fields**:
  - filename: quilt filename
  - status:
    - 0: quilt not finished. Waiting for videos from contributors
    - 1: quilt is complete. All contributors submitted a video

####Relationship Modules

`userQuilt`

* **Use**: users contribute to many quilts and quilts have many contributors
* **Fields**:
  - user: unique user identifier. Field generated by sequelize ORM
  - quilt: unique quilt identifier. Field generated by sequelize ORM
  - status:
    - 0: pending - user has not submitted a video to the quilt
    - 1: submitted

`friends`

* **Use**: users are friends with other users
* **Fields**:
  - relationship table generated by sequelize ORM

# Controllers #

####User Controllers

`createUser`
* **Use**: add user to the database
* **Parameters**: email, password
* **Return**:

`tokenForUser`

* **Use**: create token for user
* **Parameters**: email
* **Return**: unique token created with a secret

`updateUser`
* **Use**: update user in db
* **Parameters**: id, data
* **Return**:

`getAllUsers`

* **Use**: get all users in the database
* **Parameters**: none
* **Return**: array of all users

`getUser`

* **Use**: get a specific user back
* **Parameters**: { username: username }
* **Return**: user or null

`verifyUser`

* **Use**: verify user exists with correct password
* **Parameters**: username or email, password
* **Return**: user or null

`crossReference`

* **Use**: find users with matching emails or phone numbers
* **Parameters**: emails, phone numbers
* **Return**: users or null

`addFriends`

* **Use**: add friends
* **Parameters**: userId, friendIds
* **Return**: friends

`getFriends`

* **Use**: retrieve friends of given user
* **Parameters**: id
* **Return**: friends

`getAllOtherUsers`

* **Use**: get all users besides current user
* **Parameters**: username
* **Return**: all other users

`getUsersNotifs`

* **Use**: retrieve a user's notifications
* **Parameters**: userId
* **Return**: notifications

####Quilt Controllers

`getAllUserQuilts`

* **Use**: retrieves all quilts for a specified user
* **Parameters**: { username: username }
* **Return**: array of quilts or null

`getQuilt`

* **Use**: retrieves quilt matching input criteria
* **Parameters**: criteria --> { where: options }
* **Return**: quilt or null


`postQuilt`

* **Use**: create a quilt
* **Parameters**:
  {
    username: username,
    friends: [ ],
    quilt: {
      title: quiltTitle,
      theme: quiltTheme,
      video: video
    }
  }
* **Return**:

`updateQuiltStatusToReady`

* **Use**: update status of quilt with given id to ready
* **Parameters**: id
* **Return**:

`updateUserQuiltStatus`

* **Use**: update status of user submission to specific quilt to ready
* **Parameters**: userId, quiltId
* **Return**:

`createNotif`

* **Use**: create notifications for users participating in a quilt
* **Parameters**: userId, quiltId, quiltTheme, messageType, contribName
* **Return**: notification

`isQuiltDone`

* **Use**: convert quilt status to done if complete
* **Parameters**: quiltId
* **Return**:


###TODO:
-----------------------------
* Add status field (0 - cancel, 1 - pending, 2 - accepted) to friends model
